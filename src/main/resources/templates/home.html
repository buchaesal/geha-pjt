<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<!-- 시큐리티 + 에이젝스 에러 방지 설정 -->
	<meta id="_csrf" name="_csrf" th:content="${_csrf.token}" />
	<!-- default header name is X-CSRF-TOKEN -->
	<meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}" />
	<meta charset="utf-8">
	<title>GEHA-나에게 꼭 맞는 게스트하우스</title>
	<!-- Bootstrap Core CSS -->
	<link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<!-- Custom Fonts -->
	<link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
	 rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic'
	 rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
	<!-- Theme CSS -->
	<link href="/css/creative.min.css" rel="stylesheet">
	<link rel="stylesheet" href="style.css" />
	<link href="/css/swiper.min.css" rel="stylesheet" />

	<style>
		@font-face {
	font-family: 'yg-jalnan';
	src:
		url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.2/JalnanOTF00.woff')
		format('woff');
	font-weight: normal;
	font-style: normal;
}

* {
	font-family: 'yg-jalnan';
}

.navbar-default .btn-group>.btn:first-child {
	margin-left: 0;
	background: transparent;
	color: rgba(255, 255, 255, .7);
	/*     padding: 14px 20px;  */
	font-size: large;
}

.navbar-default.affix .btn-group>.btn:first-child {
	margin-left: 0;
	background: transparent;
	color: #222;
	padding: 15px 15px;
	font-size: large;
}

.navbar {
	min-height: 80px;
}

.navbar-default .navbar-header .navbar-brand {
	font-size: -webkit-xxx-large;
}

.navbar-right>li>a.page-scroll {
	font-size: large;
}

.navbar-right {
	padding-top: 15px;
}

.glyphicon.glyphicon-user {
	font-size: 25px;
}

#footer {
	background: #181c1f !important;
}

@media ( max-width :767px) {
	#footer h5 {
		padding-left: 0;
		border-left: transparent;
		padding-bottom: 0px;
		margin-bottom: 10px;
	}
	.nav_wrapper {
		min-height: 32%;
	}
	.menu ul li>a {
		padding: 10px 0px 10px 0px;
	}
	.dropdown {
		
	}
}

#footer li {
	font-family: 'S-CoreDream-3Light';
	font-size: 12px;
}

section#footer {
	padding: 3px;
}

a.portfolio-box {
	cursor: pointer;
}

.bg-primary {
	height: 74%;
}

.portfolio-box .portfolio-box-caption {
	width: 150px;
}

.col-sm-6 {
	width: 20%;
}

.container {
	height: 64%;
}

.img-region {
	max-width: 210px;
}

.portfolio-box-region .portfolio-box-caption-region {
	width: 210px;
}

.portfolio-box .portfolio-box-caption {
	background-color: #676767bd;
}

.col-sm-6-region {
	margin-left: 10px;
}

.navbar-brand {
	font-size: 45px;
	color: #ffffff;
	padding: 15px 25px;
}

.btn-group>.btn:first-child {
	margin-left: 0;
}

.btn-default {
	background-color: transparent;
}

.btn {
	padding: 15px 15px;
}

.dropdown-menu {
	right: 10px;
	left: auto;
}

.menu ul ul>li a {
	padding: 3px 20px;
	height: auto;
	background: transparent;
	color: black;
}

.menu ul ul {
	background: white;
}

.spinner-master {
	height: 0;
	margin: 0;
}

a.navbar-brand:hover {
	color: white;
}

/* swiper */
h2.top10 {
	text-align: center;
	font-family: 'yg-jalnan';
}

body {
	background: #e6e6fa;
	font-size: 14px;
	color: #000;
	margin: 0;
	padding: 0;
}

.swiper-container {
	width: 70%;
	height: 300px;
	margin: 58px auto;
}

.swiper-slide {
	font-size: 18px;
	background-color: gray;
	/* Center slide text vertically */
	display: -webkit-box;
	display: -ms-flexbox;
	display: -webkit-flex;
	display: flex;
	-webkit-box-pack: center;
	-ms-flex-pack: center;
	-webkit-justify-content: center;
	justify-content: center;
	-webkit-box-align: center;
	-ms-flex-align: center;
	-webkit-align-items: center;
	align-items: center;
	cursor: pointer;
	background-size: cover;
}

.swiper-slide div.rowgh{
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
	height: 7rem;
	text-align: center;
	background-color: rgba(0, 0, 0, 0.6);
}

.swiper-slide span {
	color: whitesmoke;
}

.swiper-slide span.rownum {
	background-color: rgba(255, 84, 66, 0.7);
	color: whitesmoke;
	position: absolute;
	top: 0;
	right: 0;
}

.swiper-slide span.rating {
	color: #f6931f;
}

.nav_wrapper {
	background: #ff5442;
}

#searchtext:focus {
	outline: none;
}
#searchbtn{
	cursor: pointer;
}

</style>

</head>

<body id="page-top">
	<div class="nav_wrapper">
		<div class="spinner-master">
			<input type="checkbox" id="spinner-form" /> <label for="spinner-form" class="spinner-spin">
				<div class="spinner diagonal part-1"></div>
				<div class="spinner horizontal"></div>
				<div class="spinner diagonal part-2"></div>
			</label>
		</div>
		<a class="navbar-brand page-scroll" href="/" style="margin-top: 10px; font-family: Righteous;">#GEHA
			<!-- <img
			src="https://image.flaticon.com/icons/svg/1295/1295232.svg"
			width="30px" height="30px" style="display: unset; margin-left: 7px;"> -->
		</a>
		<nav id="menu" class="menu">

			<ul class="dropdown">
				<li><a class="page-scroll" href="/search">방찾기</a></li>
				<li><a class="page-scroll" href="/myPage/bookingList">예약내역</a></li>
				<li><a class="page-scroll" href="/faq">FAQ</a></li>
				<li th:unless="${session.name}"><a href="/member/login" class="page-scroll" style="padding-right: 37px;">로그인</a></li>

				<div class="btn-group" th:if="${session.name}">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">
						<img src="https://image.flaticon.com/icons/svg/1256/1256628.svg" width="40px" height="40px">

					</button>

					<ul class="dropdown-menu" role="menu">
						<li style="text-align: center;"><span style="border: 1px;" th:text="${session.name}+'님'"></span></li>
						<li class="divider"></li>
						<li><a href="/myPage/bookingList" class="page-scroll">마이페이지</a></li>
						<li th:if="${session.auth.equals('HOST')}"><a href="/hostPage/myGuestHouseList" class="page-scroll">호스트페이지</a></li>
						<li th:if="${session.auth.equals('ADMIN')}"><a href="/adminPage/adminPage?auth=" class="page-scroll">관리자페이지</a></li>
						<li><a href="/logout" onclick="">로그아웃</a></li>
					</ul>
				</div>
			</ul>

		</nav>


	</div>

	<div class="bg-primary" id="about">
		<div>
			<div class="row">

				<div class="col-lg-8 col-lg-offset-2 text-center" style="z-index: 2; padding-top: 148px; width: 621px; padding-right: 297px; float: right;">

					<span style="font-size: 45px; text-shadow: -3px 2px #b33a2d; color: #ffffff;">나에게
						꼭 맞는<br> #게스트하우스
					</span><br> <br>
					<input id="searchtext" type="text" style="font-size:28px;color: black; width: 250px; border-radius: 20px;" placeholder=" 지역,숙소명" name="searchtext">
					<img src="/img/magnifying-glass.svg" width="30px" height="30px" id="searchbtn" style="font-size:28px">
				</div>
				<img src="https://image.flaticon.com/icons/svg/1048/1048945.svg" width="300px" height="300px" style="margin-top: 102px; margin-left: 197px;">
			</div>

		</div>
		<div class="img-cover"></div>
	</div>


	<div class="container" style="background: lavender; width: 100%; padding-top: 48px;">
		<div class="row">
			<div class="col-lg-12 text-center"></div>
		</div>
		<h2 class="text-center mt-0">
			<img src="https://image.flaticon.com/icons/svg/291/291200.svg" width="40px" height="40px">&nbsp;어떤 게스트하우스를 찾고계신가요?
		</h2>
		<hr class="divider my-4" style="margin-top: 40px; margin-bottom: 63px; border-color: #445867">
		<section class="no-padding">
			<div class="container-fluid" style="padding-left: 265px; margin: 30px 0 100px 0">
				<div class="row no-gutter popup-gallery">
					<div class="col-lg-6 col-sm-6">
						<a id="trip" class="portfolio-box"> <img src="https://image.flaticon.com/icons/svg/1042/1042339.svg" class="img-responsive"
							 width="150px" height="150px">
							<div class="portfolio-box-caption">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Travel</div>
									<div class="project-name">#관광</div>
								</div>
							</div>
						</a>
					</div>
					<div class="col-lg-6 col-sm-6">
						<a id="gourmet" class="portfolio-box"> <img src="https://image.flaticon.com/icons/svg/608/608857.svg" class="img-responsive"
							 alt="" width="150px" height="150px">
							<div class="portfolio-box-caption">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Gourmet</div>
									<div class="project-name">#맛집</div>
								</div>
							</div>
						</a>
					</div>

					<div class="col-lg-6 col-sm-6">
						<a id="shopping" class="portfolio-box"> <img src="https://image.flaticon.com/icons/svg/1162/1162493.svg" alt=""
							 width="150px" height="150px">
							<div class="portfolio-box-caption">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Shopping</div>
									<div class="project-name">#쇼핑</div>
								</div>
							</div>
						</a>
					</div>
					<div class="col-lg-6 col-sm-6">
						<a id="business" class="portfolio-box"> <img src="https://image.flaticon.com/icons/svg/149/149018.svg" class="img-responsive"
							 alt="" width="150px" height="150px" />
							<div class="portfolio-box-caption">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Business</div>
									<div class="project-name">#출장</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>

<<<<<<< HEAD
=======
			<div class="container-fluid" style="padding-left: 200px;">
				<div class="row no-gutter popup-gallery">
					<div class="col-lg-6 col-sm-6 col-sm-6-region">
						<a id="gourmet" class="portfolio-box portfolio-box-region"> <img src="/img/home_img/강남.jpg" class="img-region"
							 alt="" width="210px" height="150px">
							<div class="portfolio-box-caption portfolio-box-caption-region">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Category</div>
									<div class="project-name">강남</div>
								</div>
							</div>
						</a>
					</div>

					<div class="col-lg-6 col-sm-6 col-sm-6-region">
						<a id="gourmet" class="portfolio-box portfolio-box-region"> <img src="/img/home_img/잠실.jpg" class="img-region"
							 alt="" width="210px" height="150px">
							<div class="portfolio-box-caption portfolio-box-caption-region">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Category</div>
									<div class="project-name">잠실</div>
								</div>
							</div>
						</a>
					</div>

					<div class="col-lg-6 col-sm-6 col-sm-6-region">
						<a id="shopping" class="portfolio-box portfolio-box-region"> <img src="/img/home_img/종로.jpg" alt="" width="210px"
							 height="150px" class="img-region">
							<div class="portfolio-box-caption portfolio-box-caption-region">
								<div class="portfolio-box-caption-content">
									<div class="project-category text	-faded">Category</div>
									<div class="project-name">종로</div>
								</div>
							</div>
						</a>
					</div>
					<div class="col-lg-6 col-sm-6 col-sm-6-region">
						<a id="business" class="portfolio-box portfolio-box-region"> <img src="/img/home_img/홍대.jpg" class="img-region"
							 alt="" width="210px" height="150px" />
							<div class="portfolio-box-caption portfolio-box-caption-region">
								<div class="portfolio-box-caption-content">
									<div class="project-category text-faded">Category</div>
									<div class="project-name">홍대</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
>>>>>>> refs/remotes/origin/master
			<form action="search" method="post" id="categoryform">
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
				<input type="hidden" id="theme" name="" value="1" />
				<input type="hidden" id="keyword" name="keyword" value=""/>
			</form>
		</section>
	</div>

	<h2 class="top10" style="margin-top: 53px;">
		<img src="https://image.flaticon.com/icons/svg/1309/1309327.svg" width="50px" height="50px">&nbsp;좋은 평가의 게스트하우스
	</h2>
	<hr class="divider my-4" style="border-color: #445867">
	<!-- Swiper -->
	<div class="swiper-container">
		<div class="swiper-wrapper">
			<div id="swiper1" th:each="listRating : ${listRating}" class="swiper-slide" th:style=|background-image:url(gehaImg/${listRating.guestHouseCode}/${listRating.savedName})|>
			 	<span class="rownum" th:text=|${listRating.rownum}등|>등수</span>
				<div class="rowgh">
					<span class="rating" th:text=|${listRating.avgRating}|>게하 평점</span>
					<span>&nbsp;</span> <span class="gehaname" th:text=|${listRating.guestHouseName}|>게하이름</span>
				</div>
				<span id="ghcode" th:text=|${listRating.guestHouseCode}| style="display:none">게하코드</span>
				
			</div>
		</div>
		<!-- Add Pagination -->
		<div class="swiper-pagination"></div>
		<!-- Add Arrows -->
		<div class="swiper-button-next"></div>
		<div class="swiper-button-prev"></div>
	</div>

	<h2 class="top10">
		<img src="https://image.flaticon.com/icons/svg/426/426833.svg" width="50px" height="50px">&nbsp;리뷰 많은 게스트하우스
	</h2>
	<hr class="divider my-4" style="border-color: #445867">
	<!-- Swiper -->
	<div class="swiper-container">
		<div class="swiper-wrapper">
			<div id="swiper2" th:each="listReview : ${listReview}" class="swiper-slide" th:style=|background-image:url(gehaImg/${listReview.guestHouseCode}/${listReview.savedName})|>
			 <span class="rownum" th:text=|${listReview.rownum}등|>등수</span>
			 <div class="rowgh">
				<span class="rating" th:text=|${listReview.reviewCnt}개|>게하 리뷰개수</span> <span>&nbsp;</span>
				<span class="gehaname" th:text=|${listReview.guestHouseName}|>게하이름</span>
			 </div>
				<span id="ghcode" th:text=|${listReview.guestHouseCode}| style="display:none">게하코드</span>
			</div>
		</div>
		<!-- Add Pagination -->
		<div class="swiper-pagination"></div>
		<!-- Add Arrows -->
		<div class="swiper-button-next"></div>
		<div class="swiper-button-prev"></div>
	</div>

	<!--Modal: confirmModal-->
	<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
			<!--Content-->
			<div class="modal-content text-center">
				<!--Header-->
				<div class="modal-header d-flex justify-content-center">
					<br /> <br />
					<p id="modalName" class="heading"></p>
				</div>

				<!--Body-->
				<div class="modal-body"></div>
				<br />
				<!--Footer-->
				<div class="modal-footer flex-center">

					<a href="#" id="realClose" class="btn btn-primary btn-lg" onclick="wClose()">닫기</a>

				</div>
			</div>
			<!--/.Content-->
		</div>
	</div>
	<!--Modal: confirmModal-->

	<!-- Footer -->
	<footer id="footer">
		<div class="container" style="color: ghostwhite; font-weight: lighter;">
			<h3 style="padding-left: 12px;">#GEHA</h3>
			<div>
				<div class="col-xs-12 col-sm-4 col-md-4">
					<ul class="list-unstyled quick-links" style="width: 700px;">
						<li>대표자 : 자바조 사업자 등록번호 : 107 - 87 - 79911</li>
						<li>서울특별시 강남구 신사동 566-23, JC빌딩 5층</li>
						<li>대표번호 : 02-2018-3700</li>
						<li>홍보/제휴 문의 : 02-2018-3716 <a href="javascript:void();" target="_blank"><i class="fa fa-envelope"></i></a></li>
						<li>© 2018-2019 · #GEHA(주), All Rights Reserved</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
	<!-- ./Footer -->

	<!-- jQuery -->
	<script src="/vendor/jquery/jquery.min.js"></script>
	<!-- Bootstrap Core JavaScript -->
	<script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-hover-dropdown/2.2.1/bootstrap-hover-dropdown.js"></script>
	<!-- Plugin JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<script src="/vendor/scrollreveal/scrollreveal.min.js"></script>
	<script src="/js/creative.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-hover-dropdown/2.2.1/bootstrap-hover-dropdown.js"></script>
	<script src="script.js"></script>
	<script src="/js/swiper.min.js"></script>
	<script th:inline="javascript">
		// 시큐리티 + 에이젝스 에러 방지 설정
		var token = $("meta[name='_csrf']").attr("content");
		var header = $("meta[name='_csrf_header']").attr("content");
		$(document).ajaxSend(function (e, xhr, options) {
			xhr.setRequestHeader(header, token);
		});

		var form = document.getElementById("categoryform");

		$('a.portfolio-box').click(function () {
			$('#theme').attr('name', this.id);
			form.submit();
		});
		
		$('#searchbtn').click(function(){
			$('#keyword').val($('#searchtext').val());
			form.submit();
		});
		
		$('#searchtext').keyup(function (e) {
			if (e.keyCode === 13) {
				$('#keyword').val($('#searchtext').val());
				form.submit();
			}
		});
		
		// swiper start
		var appendNumber = 10;
		var prependNumber = 1;
		var swiper = new Swiper('.swiper-container', {
			slidesPerView: 3,
			loop: true,
			centeredSlides: true,
			spaceBetween: 30,
			pagination: {
				el: '.swiper-pagination',
				clickable: true,
			},
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			}
		});
		// swiper end

		// 승인/반려시에 안내 모달 띄우는 부분임.
		var approveOk = [[${approveOk}]];
		$(function() {
			
			if (approveOk !== null) {
				$("#modalName").text(approveOk);
				$("#confirmModal").modal({
					backdrop : 'static',
					keyboard : false
				});
			}
				
			
		});

		function wClose() {
			opener.parent.location.reload();
			window.close();
		}
		
		$(function(){
			
			var getToday = new Date();
			var getTomorrow = new Date();
			getTomorrow.setDate(getTomorrow.getDate() + 1);
		
			var strToday = getToday.getFullYear() + '-' + lessThanTen(getToday.getMonth() + 1) + '-' + lessThanTen(getToday.getDate());
			var strTomorrow = getTomorrow.getFullYear() + '-' + lessThanTen(getTomorrow.getMonth() + 1) + '-' + lessThanTen(
				getTomorrow.getDate());
		
			function lessThanTen(d) {
				if (d < 10) {
					return '0' + d;
				} else {
					return d;
				}
			}
			
			$('.swiper-wrapper').delegate('div', 'click', function(){
				console.dir(this.lastElementChild.textContent);
				window.location.href = '/room/roomInfo?guestHouseCode='+this.lastElementChild.textContent+'&bookingStart='+strToday+'&bookingEnd='+strTomorrow+'&bookingNumber=1';
			});

		});
	</script>
</body>

</html>